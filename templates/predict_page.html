<!DOCTYPE html>
<html lang="en">
<head>
    <title>Data Science Salary Estimator</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/pp_style.css')}}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

</head>
<body>
    <header>
        <nav class="nav-bar">
            <h1>Salary Estimator</h1>
            <ul>
                <li><a href="">About</a></li>
                <li><a href="">Services</a></li>
                <li><a href="">Contact</a></li>
            </ul>
            <ul>
                <li><a href="https://github.com/Dhanush-Raj1/Data-Science-Salary-Project" target="_blank"><i class="fab fa-github"></i>  Github</a></li>
                <li><a href="">Get in touch</a></li>
            </ul>
        </nav>
  
        <div class="content-intro">
            <h2>Enter Job & Company Data</h2>
            <p>Provide details and get an estimated salary</p>
        </div>
    </header>

    <main class="content-main">
        <form action="{{ url_for('predict_datapoint')}}" method="post" class="predictdata">

            <!-- Company Rating -->
            <div class="data-item">
                <label for="Company_Rating">Company Rating:</label>
                <p>What is the rating of the company? 
                    <br>Enter a rating between 0 and 5</p>
                <input type="number" id="Company_Rating" name="Company_Rating" step="0.1" min="0" max="5" required style="margin-top: 4px;">
            </div>

            <!-- Job Type -->
            <div class="data-item">
                <label for="Job_type">Job Type:</label>
                <p>What type of job is it?</p>
                <select id="Job_type" name="Job_type" required>
                    <option value="">Select</option>
                    <option value="ML_Engineer">ML Engineer</option>
                    <option value="Data_Scientist">Data Scientist</option>
                    <option value="Data_Analyst">Data Analyst</option>
                </select>
            </div>
            
            <!--Seniority-->
            <div class="data-item">
                <label for="Seniority">Seniority:</label>
                <p>What is the seniority level of the job?</p>
                <select id="Seniority" name="Seniority" required>
                    <option value="">Select</option>
                    <option value="Intern">Intern</option>
                    <option value="Junior_Associate">Junior Associate</option>
                    <option value="Senior">Senior</option>
                    <option value="Staff_Principal">Staff Principal</option>
                    <option value="Lead_Manager">Lead Manager</option>
                </select>
            </div>

            <!-- Skills Section -->
             <div class="data-item">
                <label for="Skills">Skills:</label>
                <p style="margin: 5px 0; font-size: 14px;">Select relevant skill set required for the role</p>
                <select id="Skills" name="Skills" multiple required>
                    <option value="Python">Python</option>
                    <option value="R">R</option>
                    <option value="SQL">SQL</option>
                    <option value="TensorFlow">TensorFlow</option>
                    <option value="PyTorch">PyTorch</option>
                    <option value="Data_Analysis">Data Analysis</option>
                    <option value="Statistics">Statistics</option>
                    <option value="Machine_Learning">Machine Learning</option>
                    <option value="Deep_Learning">Deep Learning</option>
                    <option value="NLP">NLP</option>
                    <option value="AI">AI</option>
                    <option value="Cloud_Platforms">Cloud Platforms</option>
                </select>
            </div>

            <script>
  document.addEventListener('DOMContentLoaded', function () {
    new Choices('#Skills', {
      removeItemButton: true,   // allows removing selected skill
      placeholderValue: 'Select skills...',     
    });
  });
</script>

            <!-- Salary Source -->
            <div class="data-item">
                <label for="Salary_Source">Salary Source:</label>
                <p>Where is the salary information sourced from?</p>
                <select id="Salary_Source" name="Salary_Source" required>
                    <option value="">Select</option>
                    <option value="Glassdoor">Glassdoor (Job Portal)</option>
                    <option value="Employer">Employer (The company)</option>
                </select>
            </div>

            <!-- Location -->
            <div class="data-item">
                <label for="Location">Location:</label>
                <p>What is the job location?</p>
                <select id="Location" name="Location" required>
                    <option value="">Select</option>
                    <option value="Ahmedabad">Ahmedabad</option>
                    <option value="Bengaluru">Bengaluru</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Gurgaon">Gurgaon</option>
                    <option value="Hyderabad">Hyderabad</option>
                    <option value="India">India</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Noida">Noida</option>
                    <option value="Other">Other</option>
                    <option value="Pune">Pune</option>
                    <option value="Remote">Remote</option>
                </select>
            </div>


            <!-- Submit -->
            <div class="predict-button">
                <button type="submit">Predict</button>
            </div>

        </form>

        <!-- {% if result is not none %}
            <section class="result">
                <h1>Prediction Result:</h1>
                <p>{{result_text}} <span>{{result}}</span></p>
            </section>
        {% endif %} -->

        {% if result is not none %}
            <section class="result">
                <div class="result-content">
                    <div class="result-icon">
                        <i class="fas fa-chart-line-up"></i>
                    </div>

                    <div class="result-header">
                        <h1>Salary Prediction</h1>
                        <p class="result-subtitle">Based on your job posting analysis</p>
                    </div>

                    <div class="salary-display">
                        <div class="salary-label">Your Estimated Annual Salary</div>
                        <div class="salary-amount" id="salaryAmount">
                            <span class="currency-symbol">â‚¹</span>
                            <span class="amount-number">{{result}}</span>
                        </div>
                    </div>

                    <div class="result-footer">
                        <div class="confidence-indicator">
                            <i class="fas fa-check-circle"></i>
                            <span>High Confidence Prediction</span>
                        </div>
                    </div>
                </div>
            </section>

            <script>
            document.addEventListener('DOMContentLoaded', function() {
                const resultSection = document.querySelector('.result');
                if (resultSection) {
                    // Add entrance animation
                    setTimeout(() => {
                        resultSection.classList.add('animate-in');
                    }, 100);

                    // Animate the salary number
                    const amountElement = document.querySelector('.amount-number');
                    if (amountElement) {
                        // Get the clean number from backend (already processed)
                        const finalAmount = parseInt(amountElement.textContent.replace(/,/g, ''));

                        // Set initial value to 0 for animation
                        amountElement.textContent = '0';

                        let current = 0;
                        const increment = finalAmount / 80; // Slower animation for better effect

                        const timer = setInterval(() => {
                            current += increment;
                            if (current >= finalAmount) {
                                current = finalAmount;
                                clearInterval(timer);
                            }
                            // Format with Indian number system (lakhs, crores)
                            amountElement.textContent = Math.floor(current).toLocaleString('en-IN');
                        }, 25);
                    }
                }
            });
            </script>
        {% endif %}


    </main>



    <footer id="contact us" class="footer">
        <p>Contact: info@DSSalaryEstimator.com | 0123-4567</p>
        <p>&copy; 2024 Data Science Salary Estimator. All rights reserved.</p>
    </footer>
</body>
</html>